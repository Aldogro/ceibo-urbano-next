_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"8V0Q":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/add",function(){return a("pIu5")}])},g7JS:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return c}));var n=[{key:"all",label:"Todos los productos"},{key:"aromatic",label:"Arom\xe1ticas"},{key:"ornamental",label:"Ornamentales"},{key:"interior",label:"De interior"},{key:"supplies",label:"Insumos de jardiner\xeda"}],r={all:"Todos los productos",aromatic:"Arom\xe1ticas",ornamental:"Ornamentales",interior:"De interior",supplies:"Insumos de jardiner\xeda"},c=[{key:"price,desc",label:"Precio m\xe1s alto primero"},{key:"price,asc",label:"Precio m\xe1s bajo primero"},{key:"name,asc",label:"Orden alfab\xe9tico"},{key:"name,desc",label:"Orden alfab\xe9tico inverso"}]},jjAL:function(e,t,a){"use strict";var n=a("Ff2n"),r=a("rePB"),c=a("wx14"),i=a("q1tI"),o=(a("17x9"),a("iuhU")),s=a("H2TA"),l=a("tVbE"),u=i.forwardRef((function(e,t){var a,r=e.classes,s=e.className,u=e.component,d=void 0===u?"li":u,b=e.disableGutters,m=void 0!==b&&b,j=e.ListItemClasses,p=e.role,h=void 0===p?"menuitem":p,f=e.selected,g=e.tabIndex,x=Object(n.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(a=void 0!==g?g:-1),i.createElement(l.a,Object(c.a)({button:!0,role:h,tabIndex:a,component:d,selected:f,disableGutters:m,classes:Object(c.a)({dense:r.dense},j),className:Object(o.a)(r.root,s,f&&r.selected,!m&&r.gutters),ref:t},x))}));t.a=Object(s.a)((function(e){return{root:Object(c.a)({},e.typography.body1,Object(r.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(c.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(u)},pIu5:function(e,t,a){"use strict";a.r(t);var n=a("cpVT"),r=a("nKUr"),c=a("q1tI"),i=a.n(c),o=a("20a2"),s=a("R/WZ"),l=a("NKQG"),u=a("p7UQ"),d=a("Ji2X"),b=a("ofer"),m=a("vDbW"),j=a("j7uD");t.default=function(){var e=Object(o.useRouter)(),t=p(),a=Object(l.b)(),n=a.enqueueSnackbar;a.closeSnackbar;return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(u.a,{}),Object(r.jsx)(d.a,{maxWidth:"lg",className:t.container,children:Object(r.jsxs)("div",{className:t.root,children:[Object(r.jsx)(b.a,{className:t.title,variant:"h4",children:"Agregar producto"}),Object(r.jsx)(m.a,{onSubmit:function(t){return function(t){Object(j.a)({collection:"products",data:t}).then((function(){n("Se ha creado el producto correctamente",{variant:"success"}),e.push("/products")})).catch((function(e){return n("Ha ocurrido un error",{variant:"error"})}))}(t)}})]})})]})};var p=Object(s.a)((function(e){return{root:{overflow:"hidden",backgroundColor:e.palette.background.paper},container:{margin:e.spacing("70px","auto")},title:Object(n.a)({marginTop:"1rem",marginBottom:"1rem",fontSize:"18px"},e.breakpoints.up("sm"),{marginTop:"2rem",marginBottom:"1rem",fontSize:"24px"})}}))},vDbW:function(e,t,a){"use strict";var n=a("nKUr"),r=a("q1tI"),c=a.n(r),i=a("Z3vd"),o=a("tRbT"),s=a("ZGBi"),l=a("1AYd"),u=a("jjAL"),d=a("cVXz"),b=a("UhlP"),m=a("r9w1"),j=a("LnxZ"),p=a("R/WZ"),h=a("20a2"),f=a("g7JS"),g=a("j7uD");t.a=function(e){var t=e.product,a=void 0===t?{}:t,p=e.onSubmit,O=Object(r.useState)(""),v=O[0],y=O[1],N=Object(r.useState)(""),k=N[0],w=N[1],S=Object(r.useState)(0),I=S[0],C=S[1],W=Object(r.useState)(""),T=W[0],_=W[1],D=Object(r.useState)(""),P=D[0],R=D[1],E=Object(r.useState)(!1),L=E[0],A=E[1],H=Object(r.useState)(null),z=H[0],F=H[1],G=Object(h.useRouter)(),U=function(e){e.preventDefault(),p({name:v,description:k,price:+I,cols:T,picture:P,publish:L,type:z})};Object(r.useEffect)((function(){0!==Object.keys(a).length&&(y(a.name),w(a.description),C(+a.price),_(a.cols),R(a.picture),A(a.publish),F(a.type))}),[a]);var V=x();return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)("form",{onSubmit:function(e){return U(e)},noValidate:!0,autoComplete:"off",children:[Object(n.jsxs)(o.a,{container:!0,spacing:3,cols:1,children:[Object(n.jsx)(o.a,{item:!0,xs:12,lg:12,children:Object(n.jsx)(s.a,{control:Object(n.jsx)(b.a,{checked:L,onChange:function(e){var t=e.target;return A(t.checked)},color:"primary"}),label:"Publicar"})}),Object(n.jsx)(o.a,{item:!0,xs:12,lg:5,children:Object(n.jsx)(m.a,{className:V.fullWidth,id:"Name",label:"Nombre",value:v,required:!0,onChange:function(e){var t=e.target;return y(t.value)}})}),Object(n.jsx)(o.a,{item:!0,xs:12,lg:7,children:Object(n.jsx)(m.a,{className:V.fullWidth,id:"Description",label:"Descripci\xf3n",value:k,onChange:function(e){var t=e.target;return w(t.value)}})}),Object(n.jsx)(o.a,{item:!0,xs:12,lg:4,children:Object(n.jsx)(m.a,{className:V.fullWidth,id:"cols",label:"Columnas",type:"number",value:T,onChange:function(e){var t=e.target;return _(t.value)}})}),Object(n.jsx)(o.a,{item:!0,xs:12,lg:4,children:Object(n.jsx)(m.a,{className:V.fullWidth,id:"Price",label:"Precio",type:"number",value:I,onChange:function(e){var t=e.target;return C(+t.value)}})}),Object(n.jsxs)(o.a,{item:!0,xs:12,lg:4,children:[Object(n.jsx)(l.a,{id:"demo-simple-select-label",children:"Tipo"}),Object(n.jsx)(d.a,{className:V.fullWidth,labelId:"demo-simple-select-label",id:"demo-simple-select",value:z,onChange:function(e){var t=e.target;return F(t.value)},children:f.b.map((function(e){return Object(n.jsx)(u.a,{value:e.key,children:e.label},e.key)}))})]}),Object(n.jsx)(o.a,{item:!0,xs:12,lg:6,children:Object(n.jsx)(j.a,{acceptedFiles:["image/*"],filesLimit:1,maxFileSize:1e7,dropzoneText:"Imagen principal",onChange:function(e){return function(e){e.length&&g.b.storage().ref().child("/images").child(e[0].name).put(e[0]).then((function(e){return g.b.storage().ref(e.metadata.fullPath).getDownloadURL()})).then((function(e){return R(e)}))}(e)},onDelete:function(){return R("")}})}),P?Object(n.jsx)(o.a,{item:!0,xs:12,lg:6,children:Object(n.jsx)("div",{className:V.contain,children:Object(n.jsx)("img",{className:V.fullWidth,src:P,alt:"product image"})})}):Object(n.jsx)("div",{})]}),Object(n.jsxs)(o.a,{item:!0,xs:12,className:V.actions,children:[Object(n.jsx)(i.a,{className:V.floatRight,disabled:!(P.length>0),variant:"contained",type:"submit",color:"primary",children:"Guardar"}),Object(n.jsx)(i.a,{className:V.floatRight,variant:"contained",color:"secondary",onClick:function(){return G.push("/products")},children:"Cancelar"})]})]})})};var x=Object(p.a)((function(e){return{actions:{margin:e.spacing("20px","auto")},contain:{maxHeight:"250px",width:"100%",display:"flex"},fullWidth:{width:"100%",maxHeigth:"100%",objectFit:"contain"},floatRight:{minWidth:120,float:"right",marginLeft:16}}}))}},[["8V0Q",1,2,4,5,0,3,7,6,8,9,10,11]]]);