_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{flON:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]/edit",function(){return n("rRTN")}])},qwQT:function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return b}));var r=n("nKUr"),c=n("cpVT"),a=n("q1tI"),o=n.n(a),i=n("j7uD");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=o.a.createContext({}),d={product:{},products:[]},j={CREATE_PRODUCT:"CREATE_PRODUCT",GET_PRODUCT:"GET_PRODUCT",GET_PRODUCTS:"GET_PRODUCTS",SET_PRODUCT:"SET_PRODUCT",SET_PRODUCTS:"SET_PRODUCTS",DELETE_PRODUCT:"DELETE_PRODUCT",UPDATE_PRODUCT:"UPDATE_PRODUCT"},f=function(t,e){switch(e.type){case j.CREATE_PRODUCT:var n=(new Date).getTime().toString();return void i.a.firestore().collection("products").doc(n).set(s(s({},e.payload),{},{id:n})).then((function(){return console.log("producto creado")})).catch((function(t){return console.log(t)}));case j.SET_PRODUCT:return s(s({},t),{},{product:e.payload});case j.SET_PRODUCTS:return s(s({},t),{},{products:e.payload});case j.DELETE_PRODUCT:return void i.a.firestore().collection("products").doc(e.payload.toString()).delete().then((function(){return console.log("elemento borrado")})).catch((function(t){return console.log(t)}));default:throw new Error("Unhandled action type: ".concat(e.type))}},O=function(t){var e=t.children,n=Object(a.useReducer)(f,d),c=n[0],o=n[1];return Object(r.jsx)(l.Provider,{value:[c,o],children:e})},b=function(){return Object(a.useContext)(l)}},rRTN:function(t,e,n){"use strict";n.r(e);var r=n("nKUr"),c=n("xvhg"),a=n("q1tI"),o=n.n(a),i=n("20a2"),u=n("p7UQ"),s=n("vDbW"),l=n("Ji2X"),d=n("ofer"),j=n("R/WZ"),f=n("qwQT"),O=n("j7uD");e.default=function(){var t=Object(f.c)(),e=Object(c.a)(t,2),n=e[0],j=e[1],p=b(),h=Object(i.useRouter)();Object(a.useEffect)((function(){var t=h.query.id;h.query.id&&O.a.firestore().collection("products").doc(t).get().then((function(t){j({type:f.a.SET_PRODUCT,payload:t.data()})}))}),[h.query]);return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(u.a,{}),Object(r.jsxs)(l.a,{className:p.container,children:[Object(r.jsx)(d.a,{className:p.title,variant:"h4",children:"Editar Productos"}),null!==n&&void 0!==n&&n.product?Object(r.jsx)(s.a,{onSubmit:function(t){return function(t){O.a.firestore().collection("products").doc(h.query.id).update(t).then((function(){return h.push("/products")})).catch((function(t){return console.log(t)}))}(t)},product:n.product}):null]})]})};var b=Object(j.a)((function(t){return{container:{margin:t.spacing("70px","auto")},title:{marginTop:"2rem",marginBottom:"2rem"}}}))},vDbW:function(t,e,n){"use strict";var r=n("nKUr"),c=n("q1tI"),a=n.n(c),o=n("Z3vd"),i=n("tRbT"),u=n("r9w1"),s=n("LnxZ"),l=n("R/WZ"),d=n("j7uD"),j=n("20a2");e.a=function(t){var e=t.product,n=void 0===e?{}:e,l=t.onSubmit,O=Object(c.useState)(""),b=O[0],p=O[1],h=Object(c.useState)(""),g=h[0],m=h[1],T=Object(c.useState)(""),v=T[0],x=T[1],D=Object(c.useState)(""),E=D[0],P=D[1],R=Object(c.useState)(""),C=R[0],y=R[1],_=Object(j.useRouter)(),U=function(t){t.preventDefault(),l({name:b,description:g,price:v,cols:E,picture:C})};Object(c.useEffect)((function(){0!==Object.keys(n).length&&(p(n.name),m(n.description),x(n.price),P(n.cols),y(n.picture))}),[n]);var w=f();return Object(r.jsx)(a.a.Fragment,{children:Object(r.jsxs)("form",{onSubmit:function(t){return U(t)},noValidate:!0,autoComplete:"off",children:[Object(r.jsxs)(i.a,{container:!0,spacing:3,cols:1,children:[Object(r.jsx)(i.a,{item:!0,xs:12,lg:6,children:Object(r.jsx)(u.a,{className:w.fullWidth,id:"Name",label:"Nombre",value:b,required:!0,onChange:function(t){var e=t.target;return p(e.value)}})}),Object(r.jsx)(i.a,{item:!0,xs:12,lg:6,children:Object(r.jsx)(u.a,{className:w.fullWidth,id:"Price",label:"Precio",type:"number",value:v,onChange:function(t){var e=t.target;return x(e.value)}})}),Object(r.jsx)(i.a,{item:!0,xs:12,lg:6,children:Object(r.jsx)(u.a,{className:w.fullWidth,id:"cols",label:"Columnas",type:"number",value:E,onChange:function(t){var e=t.target;return P(e.value)}})}),Object(r.jsx)(i.a,{item:!0,xs:12,lg:6,children:Object(r.jsx)(u.a,{className:w.fullWidth,id:"Description",label:"Descripci\xf3n",value:g,onChange:function(t){var e=t.target;return m(e.value)}})}),Object(r.jsx)(i.a,{item:!0,xs:12,lg:6,children:Object(r.jsx)(s.a,{acceptedFiles:["image/*"],filesLimit:1,onChange:function(t){return function(t){t.length&&d.a.storage().ref().child("/images").child(t[0].name).put(t[0]).then((function(t){return d.a.storage().ref(t.metadata.fullPath).getDownloadURL()})).then((function(t){return y(t)}))}(t)},onDelete:function(){return y("")}})}),C?Object(r.jsx)(i.a,{item:!0,xs:12,lg:6,children:Object(r.jsx)("div",{className:w.contain,children:Object(r.jsx)("img",{className:w.fullWidth,src:C,alt:"product image"})})}):Object(r.jsx)("div",{})]}),Object(r.jsxs)(i.a,{item:!0,xs:12,className:w.actions,children:[Object(r.jsx)(o.a,{className:w.floatRight,variant:"contained",type:"submit",color:"primary",children:"Guardar"}),Object(r.jsx)(o.a,{className:w.floatRight,variant:"contained",color:"secondary",onClick:function(){return _.push("/products")},children:"Cancelar"})]})]})})};var f=Object(l.a)((function(t){return{actions:{margin:t.spacing("20px","auto")},contain:{maxHeight:"250px",width:"100%",display:"flex"},fullWidth:{width:"100%",maxHeigth:"100%",objectFit:"contain"},floatRight:{minWidth:120,float:"right",marginLeft:16}}}))}},[["flON",0,1,4,5,3,2,6,7,8,9]]]);