_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{flON:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]/edit",function(){return n("rRTN")}])},qwQT:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return j}));var r=n("nKUr"),c=n("cpVT"),a=n("q1tI");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=n.n(a).a.createContext({}),s={product:{},products:[]},l={SET_PRODUCT:"SET_PRODUCT",SET_PRODUCTS:"SET_PRODUCTS"},d=function(e,t){switch(t.type){case l.SET_PRODUCT:return o(o({},e),{},{product:t.payload});case l.SET_PRODUCTS:return o(o({},e),{},{products:t.payload});default:throw new Error("Unhandled action type: ".concat(t.type))}},b=function(e){var t=e.children,n=Object(a.useReducer)(d,s),c=n[0],i=n[1];return Object(r.jsx)(u.Provider,{value:[c,i],children:t})},j=function(){return Object(a.useContext)(u)}},rRTN:function(e,t,n){"use strict";n.r(t);var r=n("cpVT"),c=n("nKUr"),a=n("xvhg"),i=n("q1tI"),o=n.n(i),u=n("20a2"),s=n("R/WZ"),l=n("NKQG"),d=n("qwQT"),b=n("p7UQ"),j=n("vDbW"),p=n("Ji2X"),f=n("ofer"),O=n("j7uD");t.default=function(){var e=Object(d.c)(),t=Object(a.a)(e,2),n=t[0],r=t[1],s=h(),m=Object(u.useRouter)(),g=Object(l.b)(),x=g.enqueueSnackbar;g.closeSnackbar;Object(i.useEffect)((function(){var e=m.query.id;m.query.id&&v(e)}),[m.query]);var v=function(e){Object(O.f)({collection:"products",id:e}).then((function(e){r({type:d.a.SET_PRODUCT,payload:e.data()})}))};return Object(c.jsxs)(o.a.Fragment,{children:[Object(c.jsx)(b.a,{}),Object(c.jsx)(p.a,{maxWidth:"lg",className:s.container,children:Object(c.jsxs)("div",{className:s.root,children:[Object(c.jsx)(f.a,{className:s.title,variant:"h4",children:"Editar Productos"}),null!==n&&void 0!==n&&n.product?Object(c.jsx)(j.a,{onSubmit:function(e){return function(e){Object(O.d)({collection:"products",id:m.query.id,data:e}).then((function(){x("Se ha editado el producto correctamente",{variant:"success"}),m.push("/products")})).catch((function(e){return x("Ha ocurrido un error",{variant:"error"})}))}(e)},product:n.product}):null]})})]})};var h=Object(s.a)((function(e){return{root:{overflow:"hidden",backgroundColor:e.palette.background.paper},container:{margin:e.spacing("70px","auto")},title:Object(r.a)({marginTop:"1rem",marginBottom:"1rem",fontSize:"18px"},e.breakpoints.up("sm"),{marginTop:"2rem",marginBottom:"1rem",fontSize:"24px"})}}))},vDbW:function(e,t,n){"use strict";var r=n("nKUr"),c=n("q1tI"),a=n.n(c),i=n("Z3vd"),o=n("tRbT"),u=n("r9w1"),s=n("LnxZ"),l=n("UhlP"),d=n("ZGBi"),b=n("R/WZ"),j=n("j7uD"),p=n("20a2");t.a=function(e){var t=e.product,n=void 0===t?{}:t,b=e.onSubmit,O=Object(c.useState)(""),h=O[0],m=O[1],g=Object(c.useState)(""),x=g[0],v=g[1],y=Object(c.useState)(""),w=y[0],S=y[1],T=Object(c.useState)(""),N=T[0],P=T[1],C=Object(c.useState)(""),D=C[0],R=C[1],_=Object(c.useState)(!1),E=_[0],U=_[1],k=Object(p.useRouter)(),W=function(e){e.preventDefault(),b({name:h,description:x,price:w,cols:N,picture:D,publish:E})};Object(c.useEffect)((function(){0!==Object.keys(n).length&&(m(n.name),v(n.description),S(n.price),P(n.cols),R(n.picture),U(n.publish))}),[n]);var q=f();return Object(r.jsx)(a.a.Fragment,{children:Object(r.jsxs)("form",{onSubmit:function(e){return W(e)},noValidate:!0,autoComplete:"off",children:[Object(r.jsxs)(o.a,{container:!0,spacing:3,cols:1,children:[Object(r.jsx)(o.a,{item:!0,xs:12,lg:12,children:Object(r.jsx)(d.a,{control:Object(r.jsx)(l.a,{checked:E,onChange:function(e){var t=e.target;return U(t.checked)},color:"primary"}),label:"Publicar"})}),Object(r.jsx)(o.a,{item:!0,xs:12,lg:5,children:Object(r.jsx)(u.a,{className:q.fullWidth,id:"Name",label:"Nombre",value:h,required:!0,onChange:function(e){var t=e.target;return m(t.value)}})}),Object(r.jsx)(o.a,{item:!0,xs:12,lg:7,children:Object(r.jsx)(u.a,{className:q.fullWidth,id:"Description",label:"Descripci\xf3n",value:x,onChange:function(e){var t=e.target;return v(t.value)}})}),Object(r.jsx)(o.a,{item:!0,xs:12,lg:4,children:Object(r.jsx)(u.a,{className:q.fullWidth,id:"cols",label:"Columnas",type:"number",value:N,onChange:function(e){var t=e.target;return P(t.value)}})}),Object(r.jsx)(o.a,{item:!0,xs:12,lg:4,children:Object(r.jsx)(u.a,{className:q.fullWidth,id:"Price",label:"Precio",type:"number",value:w,onChange:function(e){var t=e.target;return S(t.value)}})}),Object(r.jsx)(o.a,{item:!0,xs:12,lg:6,children:Object(r.jsx)(s.a,{acceptedFiles:["image/*"],filesLimit:1,onChange:function(e){return function(e){e.length&&j.b.storage().ref().child("/images").child(e[0].name).put(e[0]).then((function(e){return j.b.storage().ref(e.metadata.fullPath).getDownloadURL()})).then((function(e){return R(e)}))}(e)},onDelete:function(){return R("")}})}),D?Object(r.jsx)(o.a,{item:!0,xs:12,lg:6,children:Object(r.jsx)("div",{className:q.contain,children:Object(r.jsx)("img",{className:q.fullWidth,src:D,alt:"product image"})})}):Object(r.jsx)("div",{})]}),Object(r.jsxs)(o.a,{item:!0,xs:12,className:q.actions,children:[Object(r.jsx)(i.a,{className:q.floatRight,variant:"contained",type:"submit",color:"primary",children:"Guardar"}),Object(r.jsx)(i.a,{className:q.floatRight,variant:"contained",color:"secondary",onClick:function(){return k.push("/products")},children:"Cancelar"})]})]})})};var f=Object(b.a)((function(e){return{actions:{margin:e.spacing("20px","auto")},contain:{maxHeight:"250px",width:"100%",display:"flex"},fullWidth:{width:"100%",maxHeigth:"100%",objectFit:"contain"},floatRight:{minWidth:120,float:"right",marginLeft:16}}}))}},[["flON",1,2,4,5,0,3,7,6,8,9,10]]]);