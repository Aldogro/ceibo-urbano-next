_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{"8V0Q":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/add",function(){return a("pIu5")}])},pIu5:function(e,t,a){"use strict";a.r(t);var n=a("cpVT"),c=a("nKUr"),r=a("q1tI"),i=a.n(r),o=a("20a2"),s=a("R/WZ"),u=a("NKQG"),l=a("p7UQ"),j=a("Ji2X"),d=a("ofer"),b=a("vDbW"),m=a("j7uD");t.default=function(){var e=Object(o.useRouter)(),t=h(),a=Object(u.b)(),n=a.enqueueSnackbar;a.closeSnackbar;return Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)(l.a,{}),Object(c.jsx)(j.a,{maxWidth:"lg",className:t.container,children:Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsx)(d.a,{className:t.title,variant:"h4",children:"Agregar producto"}),Object(c.jsx)(b.a,{onSubmit:function(t){return function(t){Object(m.a)({collection:"products",data:t}).then((function(){n("Se ha creado el producto correctamente",{variant:"success"}),e.push("/products")})).catch((function(e){return n("Ha ocurrido un error",{variant:"error"})}))}(t)}})]})})]})};var h=Object(s.a)((function(e){return{root:{overflow:"hidden",backgroundColor:e.palette.background.paper},container:{margin:e.spacing("70px","auto")},title:Object(n.a)({marginTop:"1rem",marginBottom:"1rem",fontSize:"18px"},e.breakpoints.up("sm"),{marginTop:"2rem",marginBottom:"1rem",fontSize:"24px"})}}))},vDbW:function(e,t,a){"use strict";var n=a("nKUr"),c=a("q1tI"),r=a.n(c),i=a("Z3vd"),o=a("tRbT"),s=a("r9w1"),u=a("LnxZ"),l=a("UhlP"),j=a("ZGBi"),d=a("R/WZ"),b=a("j7uD"),m=a("20a2");t.a=function(e){var t=e.product,a=void 0===t?{}:t,d=e.onSubmit,p=Object(c.useState)(""),f=p[0],g=p[1],x=Object(c.useState)(""),O=x[0],v=x[1],N=Object(c.useState)(""),w=N[0],S=N[1],W=Object(c.useState)(""),_=W[0],k=W[1],C=Object(c.useState)(""),D=C[0],R=C[1],y=Object(c.useState)(!1),P=y[0],E=y[1],T=Object(m.useRouter)(),U=function(e){e.preventDefault(),d({name:f,description:O,price:w,cols:_,picture:D,publish:P})};Object(c.useEffect)((function(){0!==Object.keys(a).length&&(g(a.name),v(a.description),S(a.price),k(a.cols),R(a.picture),E(a.publish))}),[a]);var Z=h();return Object(n.jsx)(r.a.Fragment,{children:Object(n.jsxs)("form",{onSubmit:function(e){return U(e)},noValidate:!0,autoComplete:"off",children:[Object(n.jsxs)(o.a,{container:!0,spacing:3,cols:1,children:[Object(n.jsx)(o.a,{item:!0,xs:12,lg:12,children:Object(n.jsx)(j.a,{control:Object(n.jsx)(l.a,{checked:P,onChange:function(e){var t=e.target;return E(t.checked)},color:"primary"}),label:"Publicar"})}),Object(n.jsx)(o.a,{item:!0,xs:12,lg:5,children:Object(n.jsx)(s.a,{className:Z.fullWidth,id:"Name",label:"Nombre",value:f,required:!0,onChange:function(e){var t=e.target;return g(t.value)}})}),Object(n.jsx)(o.a,{item:!0,xs:12,lg:7,children:Object(n.jsx)(s.a,{className:Z.fullWidth,id:"Description",label:"Descripci\xf3n",value:O,onChange:function(e){var t=e.target;return v(t.value)}})}),Object(n.jsx)(o.a,{item:!0,xs:12,lg:4,children:Object(n.jsx)(s.a,{className:Z.fullWidth,id:"cols",label:"Columnas",type:"number",value:_,onChange:function(e){var t=e.target;return k(t.value)}})}),Object(n.jsx)(o.a,{item:!0,xs:12,lg:4,children:Object(n.jsx)(s.a,{className:Z.fullWidth,id:"Price",label:"Precio",type:"number",value:w,onChange:function(e){var t=e.target;return S(t.value)}})}),Object(n.jsx)(o.a,{item:!0,xs:12,lg:6,children:Object(n.jsx)(u.a,{acceptedFiles:["image/*"],filesLimit:1,onChange:function(e){return function(e){e.length&&b.b.storage().ref().child("/images").child(e[0].name).put(e[0]).then((function(e){return b.b.storage().ref(e.metadata.fullPath).getDownloadURL()})).then((function(e){return R(e)}))}(e)},onDelete:function(){return R("")}})}),D?Object(n.jsx)(o.a,{item:!0,xs:12,lg:6,children:Object(n.jsx)("div",{className:Z.contain,children:Object(n.jsx)("img",{className:Z.fullWidth,src:D,alt:"product image"})})}):Object(n.jsx)("div",{})]}),Object(n.jsxs)(o.a,{item:!0,xs:12,className:Z.actions,children:[Object(n.jsx)(i.a,{className:Z.floatRight,variant:"contained",type:"submit",color:"primary",children:"Guardar"}),Object(n.jsx)(i.a,{className:Z.floatRight,variant:"contained",color:"secondary",onClick:function(){return T.push("/products")},children:"Cancelar"})]})]})})};var h=Object(d.a)((function(e){return{actions:{margin:e.spacing("20px","auto")},contain:{maxHeight:"250px",width:"100%",display:"flex"},fullWidth:{width:"100%",maxHeigth:"100%",objectFit:"contain"},floatRight:{minWidth:120,float:"right",marginLeft:16}}}))}},[["8V0Q",1,2,4,5,0,3,7,6,8,9,10]]]);